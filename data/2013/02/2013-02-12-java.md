ひさしぶりに build.xml を書いた。build.xml は Ant で使われるビルドスクリプトである。素直な XML ファイルなのだけれど、油断するとすぐに複雑化することに定評がある。やりたいことは簡単でも build.xml でやると複雑に見えるし、すぐに可読性が下がるふしぎなファイルである。

Java にはしばらくさわっていなかったし ( Clojure 経由でさわっていると言えばさわっているが ) 、さわったとしても Maven を使っていた。Ant のビルドスクリプトを書くなんてひさしぶりだ。しばらく、過酷な環境で働かなくてはならなくなったので、すこしずつ楽できるようにコストをかけていきたいと思っている。 

取り組むべきは単純作業による負荷を減らすこと。そのために、まずはビルドを自動化すべきだ。誰でも ( 他人はもちろん、機械でさえも ) ビルドできるようにすることが大切だ。自動化とはそういうことだ。リポジトリから最新のソースコードを取り出して、ビルドスクリプトを流せば最新のビルドが取り出せる。当たり前のことだ。

「まず Excel を開いて、手順書を読む」なんて、もうやめよう。まずは当たり前のことからはじめよう。build.xml はその第一歩ということだ。

20 min.
