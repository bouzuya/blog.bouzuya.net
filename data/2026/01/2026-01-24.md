昨日 ([2026-01-23]) と同様に [bouzuya/tsukota-web] の dev container 設定の見直し。バインドしているボリュームに root でファイルを作成されてしまうので非 root ユーザーにしたいという件。

docker compose や Dockerfile でユーザーを指定して非 root ユーザーにすると、 Dev Container の features が動かない。あれこれインストールしているので確かにそうなりそうだ。

最終的に Dev Container の features の common-utils で非 root ユーザーを作成した。

<https://github.com/devcontainers/features/tree/main/src/common-utils>

途中、もう Dev Container の features を使用しないほうがいいのではないかと思ったけど、さすがに良くないなと思ってあれこれ模索し (ハマっ) た。

こんなことをやっている時間はないはずだけど……。

---

上の子の参観日など。妻が体調不良を訴えており……。

---

今日のコミット。

- [tsukota-web](https://github.com/bouzuya/tsukota-web) 1 commit
  - [Fix to use non-root user](https://github.com/bouzuya/tsukota-web/commit/580e8fbd3f24cf52ffebbbb7ebe7afe53c520e00)

[2026-01-23]: https://blog.bouzuya.net/2026/01/23/
[bouzuya/tsukota-web]: https://github.com/bouzuya/tsukota-web
