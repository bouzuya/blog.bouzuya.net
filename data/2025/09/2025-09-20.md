[bouzuya/zenn] に下書きを加えた。 axum crate の handler についてのものだ。

---

[bouzuya/enum-str-conv] の属性がいまいちしっくりこない。そも属性はマクロごとに違うので学ぶのがつらい。そんなことを考えていたら「 `serde` のものをそのまま使えばいいのでは」と思った。

```rust
#[derive(Debug, PartialEq, serde::Deserialize, serde::Serialize)]
enum Permission {
    A,
    B,
    C,
}

impl std::fmt::Display for Permission {
    fn fmt(&self, f: &mut std::fmt::Formatter<'_>) -> std::fmt::Result {
        serde_json::to_value(&self)
            .ok()
            .as_ref()
            .and_then(serde_json::Value::as_str)
            .expect("should be a string")
            .fmt(f)
    }
}

impl std::str::FromStr for Permission {
    type Err = serde_json::Error;

    fn from_str(s: &str) -> Result<Self, Self::Err> {
        serde_json::from_value(serde_json::Value::String(s.to_owned()))
    }
}
```

実行効率の悪さや `serde::Deserialize` `serde::Serialize` の実装が出てしまうのがイマイチだけど、そこは newtype などで隠せないことはない。

つくらなくて良かった derive macro だったか……。

---

今日のコミット。

- [rust-examples](https://github.com/bouzuya/rust-examples) 2 commits
  - [Update serde_json2](https://github.com/bouzuya/rust-examples/commit/36b2d17c95c3c21c532d57befcba74af5f181274)
  - [Add serde_json2](https://github.com/bouzuya/rust-examples/commit/f175b1565cd20c932f81458325301f219d1ab744)
- [zenn](https://github.com/bouzuya/zenn) 1 commit
  - [Add 2025-09-20](https://github.com/bouzuya/zenn/commit/e68b00324d0969dcbd04d6d5302ec51ad8dac71f)
- [bouzuya](https://github.com/bouzuya/bouzuya) 1 commit
  - [Update crates.io links](https://github.com/bouzuya/bouzuya/commit/7f767068882b96b53f469029722d77797122e968)
- [enum-str-conv](https://github.com/bouzuya/enum-str-conv) 1 commit
  - [Fix clippy warnings](https://github.com/bouzuya/enum-str-conv/commit/318780ff15566b5384bc7256f7819b20591bbfdd)

[bouzuya/enum-str-conv]: https://github.com/bouzuya/enum-str-conv
[bouzuya/zenn]: https://github.com/bouzuya/zenn
