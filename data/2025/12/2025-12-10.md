体が固まっている。疲れている。慣れない場所だと変な時間に目が覚めたりしてよく眠れない。うーん……。

[bouzuya/fubako] の `/` での `?q=xxx` の指定をリダイレクト時に残そうと思った。 [crates:url] あたりが入っていればかんたんだけど、 [crates:axum] の内部的に持っている Uri はもっと高速・簡素なものなので、 query string と path の指定はセットになっている。安全に query string を引き継ぐのも面倒なので [crates:serde_urlencoded] で移すことにした。

ここで [bouzuya/rust-examples] で serde_urlencoded の挙動を検証 (実際には Playground で検証後に、自分のリポジトリに検証履歴を残) した。

ここまでやったけど、別に `?q=xxx` の指定をリダイレクト時に残さなくてもいいかもと思い、 `/` での Query 指定をすべて捨てて終わり。

結果的には数行削除しただけ。経験値としては serde_urlencoded にすこし慣れた。この crates 自体は axum も依存しているものなので、わりと信用できる (というか既に依存している) 。

朝 commit は継続できている。

東京への移動と宿泊。要らない。

---

今日のコミット。

- [rust-examples](https://github.com/bouzuya/rust-examples) 1 commit
  - [Add serde_urlencoded1](https://github.com/bouzuya/rust-examples/commit/cc782e1d1f15b56458e6af6a09626e38ae2585fb)
- [fubako](https://github.com/bouzuya/fubako) 2 commits
  - [Remove query from /](https://github.com/bouzuya/fubako/commit/18464c7505ca411312299fa80fd783cd03f1d0b3)
  - [Fix to use HTTP 302 in /](https://github.com/bouzuya/fubako/commit/60f4bcac9bfc4cf4295ee95f1f7620fbdf2ea629)
- [googleapis-tonic](https://github.com/bouzuya/googleapis-tonic) 1 commit
  - [Regenerate crates using googleapis/google#8c06c1e04ae562f49f411357577c700e9142f33c](https://github.com/bouzuya/googleapis-tonic/commit/4d14ce7ff3489676398b74f3de890432fc905956)

[bouzuya/fubako]: https://github.com/bouzuya/fubako
[bouzuya/rust-examples]: https://github.com/bouzuya/rust-examples
[crates:axum]: https://crates.io/crates/axum
[crates:serde_urlencoded]: https://crates.io/crates/serde_urlencoded
[crates:url]: https://crates.io/crates/url
