LPIC-1の勉強をしていてパーティションやファイルシステムやディスクチェックなどの点数が悪かった。実機で動かしてみることにした。

ぼくの環境はWindows7+VirtualBox+Ubuntuだ。ホストOSがWindows7でありVirtualBoxを動かしている。VirtualBoxでは仮想マシンを作成しゲストOSとしてUbuntuをインストールしている。このUbuntuで最近は遊んでいる。

今日はディスクを追加したいのでVirtualBoxでUbuntuにハードディスクを追加する。1GBのHDDを追加した。GUIの簡単な操作だ。これで増設が完了したはずである。ゲストOSにログインしてディスクが認識されているかを確認する。コマンドは次のとおりだ。

`$ sudo fdisk -l`

ディスク /dev/sdb が認識されているのを確認できた。

次にパーティションを設定することにした。

`$ sudo fdisk /dev/sdb`

fdiskは机上では覚えていた。しかし実際に動かしてみて驚いた。対話的に実行するものだと思っていなかったからだ。そのインタフェースに戸惑った。さほど難しい作業でもないので簡単に説明すると m でメニューを出して n でパーティションを作り p で基本パーティションを選び 128 MiB にサイズを決めて w で書き込んだ。サイズが小さいせいか意外と早く終わった。

お次はフォーマットだ。ファイルシステムを設定する。

`$ sudo mkfs -t ext4 /dev/sdb1`

ファイルシステムにはext4を選択した。Ubuntuが標準で作成した箇所がそうなっていたからだ。同じファイルシステムにしておけば間違いないだろうという安易な判断である。ちなみにLPICではext2/ext3/XFSあたりが出る。

最後はマウントする。実際にディレクトリとして使えるようにする。

```console
$ mkdir /data
$ sudo mount -t ext4 /dev/sdb1 /data
```

今回は個別にmountを実行した。/etc/fstab に書いておけば mount -a でいけるはずだ、LPICによると。

全体を通じての感想は「意外と簡単だった」ということ。分からなければmanもあるしWeb検索もできる。仮想マシンだから失敗しても怖くない。何もやらないより記憶に定着したようにも感じる。いいことづくめだ。

22 min.
