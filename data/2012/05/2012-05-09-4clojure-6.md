今日は[4Clojure](https://wwww.4clojure.com/)のEasyを見直した。残り数個あるけれど、明日からはまた先へ進めていくつもりだ。

2回目は1回目より短い時間で良いものを書けるようになった。成長を感じられて嬉しい。とは言え、そもそも1回目のコードがひどいのだ。`(reduce #(+ % %2) ...)`のようなコードが当然のようにある。そこは`(reduce + ...)`で十分だ。ほかにも`(map #(f (second %) (first %)) (map vector ...)`のような何がしたいのか分からないコードもある。時間をあけて見るのだけでも読みやすいコードかが分かるので良い効果がありそうだ。

見直しをしていて分かるのは、リファクタリングではテストコードが必須だということ。4Clojureの2回目はリファクタリングそのものだ。単純な書き換えでもテストコードがなければ気づかない場面がたくさんあった。元々言われていることだけれど、改めてリファクタリングにテストコードは必須だと感じた。

17 min.
