---
layout: post
pubdate: "2014-10-31T23:59:59+09:00"
title: FaithCreates Inc. 寿司会 #1 にいった & hubot-qiita-contribution をつくった
tags: [misc, hubot, hubot-scripts, hubot-script-per-day]
minutes: 25
pagetype: posts
---
昨日書きそびれた FaithCreates Inc. 寿司会 #1 の話と、今日の Hubot スクリプトのことを書く。 [hubot-qiita-contribution][gh:bouzuya/hubot-qiita-contribution] をつくった。[1 日 1 Hubot スクリプト][hubot-script-per-day]の 110 日目。

[FaithCreates Inc. 寿司会 #1][faithcreates] をした。ぼくは一応スタッフなので、参加者でありつつ、運営側でもあるという感じ。これは完全招待制イベントなので、イベントページなどはない。とりあえず会社にリンクはっておく。ゲストを寿司を餌に呼びつけようという強気かつごうまんな企画である。

まず結論を書くと、出会いもあり考えることもできた良い会だったが、問題点もいくつかあった。

ぼくの主観で書くが FaithCreates Inc. のメンバーはほとんどが内向きで新しい出会いを求めてアクティブに動く人間はほとんど居ない。それだと会社としては面白くなっていかないので、いろいろ刺激を加えようというのが、社長の意図のひとつだろう。以前、会社で寿司をとって食べたのだけど、外で食べるより安くつくし、まわりを気にせず話もできて良かった。その際に、その会にゲストを入れて、何かテーマを決めて話しても面白そうだ、寿司で釣ろう、みたいなアイデアが出た。そのアイデアを形にしたのが今回の会だ。事実から見ると、さきに書いたとおり「ゲストを寿司を餌に呼びつけて話をさせる、ごうまんな企画」というイベントになる、というわけ。

今回は HTML5 / Ruby on Rails / ハッカソンとは。という三本立てで、弊社スタッフ 5 人、スピーカー 3 人、ゲスト 8 人の 16 人だった、はず。あやふやなのは、自己紹介も名札もなくはじまり、社長が泥酔するなか、自然解散になっていたからだ。

外向けのイベントじゃないので、内容についてはそんなに書かないけど、ぼくは個人的に Ruby on Rails ・ハッカソンについて気になるところがあって、それについては Twitter にだらだらと書いた。まとめるがめんどうになってきた。とりあえず Ruby on Rails のことを書く。

Ruby / Ruby on Rails については minami.rb の[よしださん](https://twitter.com/yalab) が話してくれた。話の内容にはタッチしつつも、ぼくはぼくが聞きたいことを好き勝手聞いて、ぼくのが言いたいことを好き勝手言った。具体的には「ぼくは Ruby が嫌いだ」「 Ruby も JavaScript も目くそ鼻くそ」「 JavaScript を dis る Rubyist は地獄に落ちろ」や「テストを書きすぎてしまうのをどうすべきか」あたり。

特に「テストを書きすぎてしまう」問題について書きたい。

ぼくの結論としては「テストを書くという行為について、きちんと考えよう」と思い、現状のプロダクトについては「テストを減らそう」となった。

何をどうきちんと考えるかというのは、書くべきか、書くべきでないか、いま書くのか、あとで書くのか、それを書くことにどれくらいコストがかかるのか、書いたことでどれくらいのメリットがあるのか、書かないことでどれくらいのデメリットがあるのか。そういうことをきちんと考えようと思っている。

最近はテストを書かないことに対しておかしなほどの圧力がかかっている。たとえば、上記のようなことを帰ってから Twitter に書いたら、予想通りテスト原理主義者みたいのが過敏に反応してて、でしょうね、って感じだった。そりゃ確実な動作を保証したいならテストはあったほうがいい。ぼくは「テストなんて要らない」と言っているわけじゃない。程度問題である。FizzBuzzEnterpriseEdition や地球破壊爆弾のようなものだ。

ただ、コストの観点なしにテストを書くのはやめるべきだと思っている。

現状のプロダクトでぼくはテストコードを書きすぎていると感じていて、実際、その比率などをよしださんに伝えても、明らかに書きすぎていると言われた。

テストはあったほうがいい。じゃあ、どこまでやるのか。そこでひとつわかりやすいのがコストで、データが壊れてしまって、どうしようもなくなる、みたいのはテストを書くべきだけど、そこまで気にしなくていいものもある。開発には確実に費用が発生していて、それとの兼ね合いでどうか、ということだ。

細かくは書かないけれど。よしださんをはじめ、いろいろな方と会えたのが良かった。

悪かった点も書いておくと、寿司会とか言いながら寿司が少なく、会場がせまく、その割に参加費が高く、解散時間が遅かった。机のレイアウトを変えるだけで良くなった部分もあったのではとか、いろいろ思うところはある。次回以降で良くしていきたい。

で、 Hubot スクリプト。 hubot-qiita-contribution は qiita の contribution を返す Hubot スクリプト。 API で取れないのでスクレイピング。

Qiita は今日も更新なし。contribution をカウントするスクリプトは、Hubot スクリプトとは別で書く。

今日つくったグラタンについてはまた日曜日に書く。明日は今週のふりかえり。今週から土曜日にふりかえるつもりだ。

[faithcreates]: http://www.faithcreates.co.jp/
[gh:bouzuya/hubot-qiita-contribution]: https://github.com/bouzuya/hubot-qiita-contribution
[hubot-script-per-day]: http://blog.bouzuya.net/posts?tags=hubot-script-per-day
