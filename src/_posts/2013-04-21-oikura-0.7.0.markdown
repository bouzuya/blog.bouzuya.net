---
layout: post
pubdate: "2013-04-21T23:37:07+09:00"
title: oikura に検索登録機能を追加した
tags: [misc]
pagetype: posts
---
![oikura-0.7.0](http://gyazo.com/fa573fac69f31607f109df48bd7cf875.png)

Clojure で書かれた Amazon 価格追跡アプリケーション oikura をバージョン 0.7.0 にした。

変更点は、検索機能と登録機能の追加。とりあえず、これで画面から登録できるようになった。

ひさしぶりに触れた。このところ忙しさに負けてしまっていたけれど、気合いを入れ直さねば。当初の予定としては、一般的な Web アプリケーションを Clojure を使って一週間でどこまで作れるかという確認だったのだけれど、それがこんなダラダラ続いていてはいけないだろう。

リファクタリングを考えるべきか迷っている。Clojure + Ring + Compojure + Enlive + PostgreSQL で書いているのだけれど、どれひとつとしてきちんと理解できていなくて、都度、覚えながら進んでいる状態。そんなこともあって、そろそろ作りがひどくなってきた。いままでのぼくなら間違いなく綺麗にしたいのだけれど、動くこと優先で進めたいと思っているので、必要最低限にとどめるつもり。

機能的に気になるところとしては、次の通り。

- Go ボタンが離れすぎている。そもそもボタンデザインがイケてない点。
- データとして ASIN と価格情報しか持っていないので、検索が ASIN のみになっている点
- 商品詳細画面が概要画面と変わらない点。手抜き。
- 検索ボックスが商品詳細画面にない点。

検索ボックスやヘッダー部分などのページの共通部分を部品としてまとめて、取得情報として、商品の名称や、説明や、商品画像あたりを取得して、商品詳細に表示したり、検索対象としたり、だろうか。

うん。やっぱり楽しいなあ。

15 min.
